(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{928:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>i});var t=l(5155),s=l(2115);function i(){let[e,a]=(0,s.useState)(""),[l,i]=(0,s.useState)(!1),[n,r]=(0,s.useState)(null);(0,s.useEffect)(()=>{(async()=>{var e;let l=await fetch("/api/profile"),t=await l.json();(null==t||null==(e=t.profile)?void 0:e.display_name)&&a(t.profile.display_name)})()},[]);let o=async()=>{i(!0),r(null);try{let a=await fetch("/api/profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({display_name:e})}),l=await a.json();if(!a.ok)throw Error(l.error||"save_failed");r("Saved")}catch(e){r(e.message)}finally{i(!1)}};return(0,t.jsxs)("main",{className:"max-w-md mx-auto p-4",children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold mb-4",children:"Profile"}),(0,t.jsx)("label",{className:"block text-sm mb-1",children:"Display name"}),(0,t.jsx)("input",{value:e,onChange:e=>a(e.target.value),className:"w-full border rounded px-3 py-2 mb-3",maxLength:40,placeholder:"Your name"}),(0,t.jsx)("button",{onClick:o,disabled:l,className:"px-4 py-2 rounded bg-black text-white disabled:opacity-60",children:l?"Savingâ€¦":"Save"}),n&&(0,t.jsx)("div",{className:"mt-3 text-sm opacity-80",children:n})]})}},9952:(e,a,l)=>{Promise.resolve().then(l.bind(l,928))}},e=>{e.O(0,[441,493,358],()=>e(e.s=9952)),_N_E=e.O()}]);